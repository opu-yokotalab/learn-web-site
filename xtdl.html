<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/REC-html401/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html;charset=UTF-8">
<META http-equiv="Content-Style-Type" content="text/css">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META name="generator" content="SmartDoc 1.0">
<META NAME="author" CONTENT="庄司成臣">
<META NAME="date" CONTENT="2005-12-26">
<title>X-TDL仕様書(下書き)</title>
<style type="text/css">
<!--
/*
    article.css

    since   : Nov. 21, 1998
    version : Jan. 29, 2002
    author  : ASAMI, Tomoharu (asami@XMLSmartDoc.org)
*/

A:link {
  color: green;
}

A:visited {
  color: black;
}

A:hover{
  color: gold;
};

body {
  background: white;
  font-family: times, serif;
}

h1 {
}

h1.title {
  color: black;
  background: gold;
  text-align: center;
  border-style: outset;
  border-color: yellow;
  padding: 10pt;
  margin-left: 60pt;
  margin-right: 60pt;
}

h1.part {
  font-weight: bold;
  color: black;
  background: gold;
  padding: 20pt;
}

h1.chapter {
  color: tan;
  background: black;
  text-align: left;
  padding: 5pt;
}

h2 {
  color: bisque;
  background: #666666;
  padding: 3pt;
}

h3 {
  color: black;
  background: #aaaaaa;
  padding: 2pt;
  margin-right: 100pt;
}

h4 {
  color: black;
  background: #eeeeee;
  padding: 1pt;
  margin-right: 200pt;
}

dfn {
  font-weight: bold;
  font-style: normal;
}

code {
  font-family: helvetica, sans-serif;
  font-weight: bold;
}

li p {
  text-indent: 0pt;
}

dt {
  font-weight: bold;
}

th p {
  text-indent: 0pt;
}

td p {
  text-indent: 0pt;
}

div.table {
  text-align: center;
}

table.data {
  margin-top: 10pt;
  margin-bottom: 10pt;
  background-color: green;
}

table.data caption {
  background-color: khaki;
  font-weight: bold;
}

table.data th {
  color: yellow;
  background-color: lightseagreen;
}

table.data td {
  background-color: antiquewhite;
}

table.data td.key {
  background-color: salmon;
  font-weight: bold;
}


table.menu {
  margin-top: 10pt;
  margin-bottom: 10pt;
  text-align: center;
}

table.menu caption {
  background-color: khaki;
  font-weight: bold;
}

table.menu th {
  color: yellow;
  background-color: lightseagreen;
}

table.menu td {
  color: Maroon;
  background-color: antiquewhite;
  font-weight: bold;
  padding: 10pt;
}

table.menu td.key {
  font-size: x-large;
  color: RoyalBlue;
  background-color: LightGreen;
  font-weight: bold;
  padding: 10pt;
}

table.menu td.key A:link {
  color: RoyalBlue;
}

table.menu td.key A:visited {
  color: RoyalBlue;
}

table.navigator {
}

table.navigator td {
  text-align: center;
  font-weight: bold;
}

table.languages {
  margin-bottom: 0pt;
  margin-top: 0pt;
  font-size: x-small;
}

table.languages td.current {
}

table.languages td.other {
  background-color: Orange;
}

p {
  margin: 0pt;
  text-indent: 1em;
}

p ja {
  margin: 0pt;
  text-indent: 1em;
}

p.first {
  margin: 0pt;
  text-indent: 0em;
}

p.first_ja {
  margin: 0pt;
  text-indent: 1em;
}

div.title {
  text-align: center;
}

div.toc {
  background-color: cornsilk;
  padding: 10pt;
  border-style: inset;
  border-color: cornsilk;
  margin-top: 10pt;
  margin-bottom: 30pt;
}

div.titletoc {
  background-color: cornsilk;
  padding: 10pt;
  border-style: inset;
  border-color: cornsilk;
  margin-top: 10pt;
  margin-bottom: 30pt;
}

div.date {
  text-align: center;
}

div.org {
  text-align: center;
}

div.author {
  text-align: center;
  font-weight: bold;
}

div.email {
  text-align: center;
}

div.hp {
  text-align: center;
}

div.summary {
  color: maroon;
  background: darkkhaki;
  border-style: inset;
  border-color: khaki;
  margin-top: 20pt;
  margin-bottom: 20pt;
  margin-left: 30pt;
  margin-right: 30pt;
  padding: 5pt;
}

div.comment {
  color: red;
  background: yellow;
}

span.comment {
  color: red;
  background: yellow;
}

div.navigator {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

div.navigatortop {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-bottom: 10pt;
}

div.navigatorbottom {
  background: khaki;
  border-top: 1pt solid black;
  border-bottom: 1pt solid black;
  text-align: center;
  margin-top: 10pt;
}

div.languages {
  text-align: right;
}

div.footnote {
  background: antiquewhite;
}

div.fyi {
  color: maroon;
  background: peachpuff;
  padding: 5pt;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

div.fyi div.title {
  background: antiquewhite;
  font-weight: bold;
  padding: 5pt;
  margin-top: 5pt;
  margin-bottom: 5pt;
}

div.caption {
  background: lavender;
  font-weight: bold;
  padding: 5pd;
  width: 300pt;
  margin-top: 10pt;
}

div.result {
  background: ivory;
  border-style: inset;
  border-color: gold;
  padding: 10pt;
  margin-top: 10pt;
  margin-bottom: 10pt;
}

span.caption {
  background: lavender;
  font-weight: bold;
}

pre.program {
  background-color: gainsboro;
  font-family: courier, monospace;
  padding: 5pt;
  margin-right: 30pt;
}

pre.program em {
  color: red;
  font-style: normal;
}

pre.program strong {
  color: red;
  background-color: yellow;
  font-style: normal;
}

pre.program span.keyword {
  color: Blue;
  font-style: normal;
}

pre.program span.primitive {
  color: Green;
  font-style: normal;
}

pre.program span.comment {
  color: Red;
  background-color: gainsboro;
  font-style: normal;
}

pre.program span.quote {
  color: OrangeRed;
  font-style: normal;
}

var {
  color: green;
  font-style: italic;
}

tt {
  font-family: courier, monospace;
}

code {
  font-family: helvetica, sans-serif;
  font-weight: bold;
}

pre.console {
  background-color: black;
  color: white;
  font-family: courier, monospace;
  padding: 5pt;
  margin-right: 30pt;
}

pre.console kbd {
  font-family: courier, monospace;
  color: yellow;
}

span.toggle {
  font-weight: bold;
}

div.figure {
  text-align: center;
}

img.figure {
  margin: 10pt;
}

div.equation {
  margin-top: 1em;
  margin-right: 30pt;
  margin-bottom: 1em;
  padding-top: 1em;
  padding-left: 4em;
  padding-bottom: 1em;
  background: powderblue;
}

div.equation table {
}

div.equation table td.padding {
  width:2em
}

td.equationNumber {
  width: 4em;
  text-align: right;
}
-->
</style>
<script type="text/javascript">
<!--
/*
 * HTML4JavaScript.js
 *
 * @since   Nov. 17, 1998
 * @version Oct. 22, 2001
 * @author  ASAMI, Tomoharu (asami@zeomtech.com)
 */
var backupColor=null;
var backupBGColor=null;
var backupFontStyle=null;
var backupIDColor=null;
var backupIDBGColor=null;
var backupIDFontStyle=null;
var backupIDBorderStyle=null;

var backupOnKeyDown=null;

function normal(element) {
  if (document.all) {
    if (backupColor != null) {
      element.style.color=backupColor;
      backupColor=null;
    }
    if (backupBGColor != null) {
      element.style.background=backupBGColor;
      backupBGColor=null;
    }
    if (backupFontStyle != null) {
      element.style.fontStyle=backupFontStyle;
      backupFontStyle=null;
    }
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      if (backupIDColor != null) {
        target.style.color=backupIDColor;
        backupIDColor=null;
      }
      if (backupIDBGColor != null) {
        target.style.background=backupIDBGColor;
        backupIDBGColor=null;
      }
      if (backupIDFontStyle != null) {
        target.style.fontStyle=backupIDFontStyle;
        backupIDFontStyle=null;
      }
      if (backupIDBorderStyle != null) {
        target.style.borderStyle=backupIDBorderStyle;
        backupIDBorderStyle=null;
      }
    }
  }
}

function hilight(element) {
  if (document.all) {
    backupBGColor=element.style.background;
    element.style.background="gold";
  }
}

function hilightString(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightSelflink(element, color) {
  if (color == null) {
    color="darkolivegreen";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
    var id = null;
    if (element.href != null) {
      id = element.href;
      id = id.substring(id.indexOf("#") + 1);
    }
    if (id != null) {
      var target = document.all.item(id, 0);
      backupIDColor=target.style.color;
//      backupIDBGColor=target.style.background;
//      backupIDFontStyle=target.style.fontStyle;
      backupIDBorderStyle=target.style.borderStyle;
      target.style.color="red";
      target.style.borderStyle="outset";
    }
  }
}

function hilightHyperlink(element, color) {
  if (color == null) {
    color="darkorange";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function hilightExternallink(element, color) {
  if (color == null) {
    color="purple";
  }
  if (document.all) {
    backupColor=element.style.color;
    backupBGColor=element.style.background;
    backupFontStyle=element.style.fontStyle;
    element.style.color=color;
  }
}

function toggleChildren(node) {
  if (document.all) {
    for (i = 0;i < node.children.length;i++) {
      var child = node.children[i];
      if (child.className == "dynamic") {
        if (child.style.display == "") {
            child.style.display = "none";
        } else {
            child.style.display = "";
        }
      }
    }
  }
}

function toggleDynamic(node) {
  if (document.all) {
    if (node.tagName == "LI") {
      toggleChildren(node);
    }
  }
}

function isMsie4orGreater() { 
  var ua = window.navigator.userAgent; var msie = ua.indexOf ("MSIE");
  if (msie > 0) {
    return (parseInt (ua.substring (msie+5, ua.indexOf (".", msie))) >= 4)   
      && (ua.indexOf ("MSIE 4.0b") <0);
  } else {
    return false;
  }
}

function keyEventHandler() {
  if (document.all) {
    if (event.keyCode == 13) {
      var child = document.all.item("_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode == 39) {
      var child = document.all.item("_next_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else if (event.keyCode = 37) {
      var child = document.all.item("_prev_page_", 0);
      if (child != null) {
        location.href = child.href;
      }
    } else {
      backupOnKeyDown();
    }
  }
}

function setOHPHandler() {
  backupOnKeyDown=document.onkeydown;
  document.onkeydown=keyEventHandler;
}
// -->
</script>
</head>
<body>
<div style="text-align:right"><a href="http://www.XMLSmartDoc.org" target="_top"><span style="color:#4F5952;background:#EE8362;font-family:sans-serif;font-size:xx-small;text-decoration:none">Powered by </span><span style="color:#058258;background:#EE8362;font-family:fantasy, sans-serif;font-size:x-small;text-decoration:none">SmartDoc</span></a></div>

<h1 class="title">X-TDL仕様書(下書き)<br><small>v0.2.2</small></h1>

<div class=date>2005-12-26</div>
<div class=author>庄司成臣</div>
<div class=org>知能メディア工学研究室</div>
<div class=email><a href="mailto:shoji@c.oka-pu.ac.jp" onMouseOver="hilightHyperlink(this)" onMouseOut="normal(this)">shoji@c.oka-pu.ac.jp</a></div>

<h1 class="chapter" id="doc1_22">この文書について</h1>


<h2 id="doc1_24">概要</h2>

<p class="first">教材記述言語X-TDL(XHTML based Teaching material Description Language)の仕様書の草案です。</p>

<h2 id="doc1_27">この文書の目的</h2>

<p class="first">X-TDLの記述を定めることです。この文書に書かれているものがX-TDLの正式な記述とします。X-TDLで教材を記述する場合や、X-TDLの処理系を作成する場合はこの文書に従ってください。なお、今後研究を進めるに従って、この文書の内容は常に変化する恐れがあります。</p>

<h1 class="chapter" id="doc1_32">要素の解説</h1>


<h2 id="doc1_35">ルート要素</h2>


<h3 id="doc1_37">xtdl要素</h3>

<p class="first">ルート要素です。</p>

<h4 id="doc1_39">属性</h4>


<ul>
<li> 無し</ul>


<h4 id="doc1_48">子要素</h4>


<ul>
<li> section</ul>


<h2 id="doc1_61">構造を表す要素</h2>


<h3 id="doc1_63">section要素</h3>

<p class="first">章や節を表す要素です。</p>

<h4 id="doc1_65">属性</h4>


<ul>
<li> title :章の題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_77">子要素</h4>


<ul>
<li> section
<li> example
<li> definition
<li> explanation
<li> examination
<li> exercise
<li> illustration
<li> program
<li> algorithm
<li> proof
<li> simulation
<li> XHTMLの要素</ul>


<h3 id="doc1_120">example要素</h3>

<p class="first">例を表す要素です。</p>

<h4 id="doc1_122">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_134">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_144">definition要素</h3>

<p class="first">定義を表す要素です。</p>

<h4 id="doc1_146">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_158">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_167">explanation要素</h3>

<p class="first">説明を表す要素です。</p>

<h4 id="doc1_169">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_181">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_190">examination要素</h3>

<p class="first">試験を表す要素です。</p>

<h4 id="doc1_192">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_204">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_213">exercise要素</h3>

<p class="first">演習問題を表す要素です。</p>

<h4 id="doc1_215">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_227">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_236">illustration要素</h3>

<p class="first">図を表す要素です。</p>

<h4 id="doc1_238">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_250">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_259">program要素</h3>

<p class="first">ソースコードを挿入するための要素です。</p>

<h4 id="doc1_261">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_273">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_282">algorithm要素</h3>

<p class="first">アルゴリズムを記述するための要素です。</p>

<h4 id="doc1_284">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_296">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_305">proof要素</h3>

<p class="first">証明を記述するための要素です。</p>

<h4 id="doc1_307">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_319">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h3 id="doc1_328">simulation要素</h3>

<p class="first">シミュレーションを記述するための要素です。</p>

<h4 id="doc1_330">属性</h4>


<ul>
<li> title :題名
<li> id :シーケンシングに用いる識別子</ul>


<h4 id="doc1_342">子要素</h4>


<ul>
<li> XHTMLの要素</ul>


<h1 class="chapter" id="doc1_356">シーケンシング</h1>

<p class="first">X-TDLのシーケンシングはECAルールで記述する。</p>

<h2 id="doc1_358">ルールの概要</h2>


<h3 id="doc1_360">イベント</h3>


<dl>
<dt>
次へ進む
<dd>
学習者からの「次へ進む」という要求があったとき
<dt>
目次から選ぶ
<dd>
目次インタフェースから何かを選んだとき
<dt>
難易度変更の要求
<dd>
学習者からの難易度変更の要求</dl>


<h3 id="doc1_385">コンディション</h3>


<dl>
<dt>
現在見ているノード
<dd>
現在見ているノード、「次へ移動」イベントで使用。
<dt>
移動先
<dd>
移動先、「入るとき」イベントで使用。
<dt>
テスト結果
<dd>
テストの結果
<dt>
学習者状態
<dd>
学習者の状態、未定</dl>


<h3 id="doc1_416">アクション</h3>


<dl>
<dt>
移動
<dd>
あるノードに移動する。移動先のノードを指定する。
<dt>
ブロック
<dd>
移動のキャンセル
<dt>
学習者状態の変更
<dd>
学習者状態を変更する
<dt>
チアリングメッセージを出す
<dd>
「よくできました」等のメッセージを出す。</dl>


<h2 id="doc1_447">ルールの記述</h2>

<p class="first">Prologにより記述する。</p>

<h1 class="chapter" id="doc1_452">スキーマ</h1>


<div id="doc1_454" class="caption">X-TDLのスキーマ</div>
<pre class="program" style="margin-top:0">
start = xtdlElement
xtdlElement = element xtdl { sectionElement+ }
sectionElement =
  element section {
    attribute id { ID.datatype }?,
    attribute title { text }?,
    (sectionElement*
     &amp; exampleElement*
     &amp; definitionElement*
     &amp; explanationElement*
     &amp; examinationElement*
     &amp; illustrationElement*
     &amp; programElement*
     &amp; algorithmElement*
     &amp; proofElement*
     &amp; simulationElement*)
  }
exampleElement = element example { elementBody }
definitionElement = element definition { elementBody }
explanationElement = element explanation { elementBody }
examinationElement = element examination { elementBody }
illustrationElement = element illustration { elementBody }
programElement = element program { elementBody }
algorithmElement = element algorithm { elementBody }
proofElement = element proof { elementBody }
simulationElement = element simulation { elementBody }
elementBody = Common.attrib, Block.model
include &quot;datatypes.rng.rnc&quot;
include &quot;attribs.rng.rnc&quot;
include &quot;text.rng.rnc&quot;
include &quot;list.rng.rnc&quot;
include &quot;basic-table.rng.rnc&quot;
include &quot;image.rng.rnc&quot;
include &quot;param.rng.rnc&quot;
include &quot;object.rng.rnc&quot;
include &quot;link.rng.rnc&quot;
include &quot;base.rng.rnc&quot;
</pre>


<h1 class="chapter" id="doc1_457">記述例</h1>


<div id="doc1_458" class="caption">X-TDLの記述例</div>
<pre class="program" style="margin-top:0">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;Shift_JIS&quot; ?&gt;
&lt;!-- 
X-TDL のサンプル
作成日:2005/07/21
最終更新日:2005/12/18
作:庄司成臣
v0.1
--&gt;

&lt;xtdl&gt;
  &lt;section title=&quot;1章&quot; id=&quot;section1&quot;&gt;
    &lt;example title=&quot;例&quot; id=&quot;example1&quot;&gt;
      &lt;img src=&quot;http://www.yahoo.co.jp/&quot; /&gt;
	&lt;/example&gt;
    &lt;section title=&quot;1.1節&quot; id=&quot;section1.1&quot;&gt;
      &lt;example title=&quot;例1.1&quot; id=&quot;expample1.1&quot;&gt;
	&lt;ul&gt;	
	  &lt;li&gt;リスト&lt;/li&gt;
	  &lt;li&gt;リスト&lt;/li&gt;
	&lt;/ul&gt;
      &lt;/example&gt;
    &lt;/section&gt;
    &lt;section title=&quot;1.2節&quot; id=&quot;section1.2&quot;/&gt;
  &lt;/section&gt;
&lt;/xtdl&gt;
</pre>

</body>
</html>
